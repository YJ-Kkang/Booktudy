# [Booktudy]  객체지향의 사실과 오해_3챕터(250101)

---


# 3. 타입과 추상화

## 추상화를 통한 복잡성 극복
- `추상화`의 목적: 어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법.

  훌륭한 추상화는 목적에 부합해야 함 (`추상화`의 수준, 이익, 가치는 **목적에 의존적**)

>복잡성을 다루기 위해 추상화는 두 차원에서 이루어진다.
> 1) 첫 번째 차원: 구체적인 사물들 간의 **공통점**은 취하고, **차이점**은 버리는 `일반화`를 통해 단순하게 만드는 것.
>2) 두 번째 차원: **중요한 부분을 강조**하기 위해 `불필요한 세부 사항`을 **제거**함으로써 단순하게 만드는 것.

<br>

## 객체지향과 추상화
- 그룹으로 나누어 단순화하기

  ![](https://velog.velcdn.com/images/yjkang/post/e4e57c25-dc01-484f-acd6-56e29cbe1564/image.png)

  위 그림은 <이상한 나라의 앨리스>에서 앨리스가 정원에 도착했을 때 그 장소에 있는 객체들을 표현한 것이다.

  \- `트럼프 그룹` 안에는 하트 여왕, 카드 정원사, 카드 병정 등이 포함된다.

  \- `토끼 그룹` 안에는 회중시계를 가진 하얀 토끼가 포함된다.


상기 이미지와 같이 그룹으로 나누어 단순화하는 것은 복잡성을 효과적으로 감소시킨다.


이처럼 공통점을 기반으로 객체들을 묶기 위한 그릇을 **`개념(concept)`**이라고 한다.

**`개념`**은 일반적으로 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 `아이디어`나 `관념`을 뜻한다.


→ 개념을 이용하면 객체를 여러 그룹으로 **`분류(classification)`**할 수 있다.

(결과적으로 `개념`은 **공통점을 기반**으로 **객체를 분류**할 수 있는 일종의 **체**이다.)


>각 객체는 특정한 개념을 표현하는 그룹의 일원으로 포함된다.
> 
>`하트 여왕`은 `트럼프`라는 개념 그룹의 일원이고, `하얀 토끼`는 `토끼`라는 개념 그룹의 일원이다.

이처럼 **`객체`**에 `어떤 개념을 적용`하는 것이 가능해서 **`개념 그룹의 일원`**이 될 때,

`객체`를 그 개념의 **`인스턴스(instance)`**라고 한다.
>**`객체`**: 특정한 개념을 적용할 수 있는 구체적인 사물을 의미함.
> 
> `개념`이 `객체에 적용`됐을 때, 그 객체를 개념의 **`인스턴스`**라고 한다.
> 
> (ex. `하트여왕(객체)`은 `트럼프(개념)`의 **인스턴스**이다)

<br>

### 개념의 세 가지 관점
>- `심볼(symbol)`: 개념을 가리키는 간략한 이름이나 명칭.
>>`트럼프(개념)`라는 이름은 개념의 심볼
>

<br>

- `내연(intension)`: 개념의 완전한 정의를 나타내며 내면의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있다.
>>\- '몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려 있다'는 `트럼프(개념)`에 대한 설명이 개념의 내연(개념의 의미).
>> 
>> \- `내연`은 **개념을 객체에게 적용할 수 있는지 여부**를 **판단**하기 위한 **조건**임.
>>
>>(`하얀 토끼(객체)`는 `트럼프(개념)`의 **`내연`**을 만족시키지 못하기에 `트럼프(개념)`가 될 수 없음)
>

<br>

- `외연(extension)`: 개념에 속하는 모든 객체의 집합(set).
>>\- 개념에 속하는 객체들(`개념`의 `인스턴스들`이 모여 이뤄진 `집합`)
\- `트럼프(개념)`의 **`외연`**을 구성하는 객체 집합: 하트 여왕, 카드 정원사, 카드 병정 등.
>

![](https://velog.velcdn.com/images/yjkang/post/c6e7e9cf-ebc6-40cd-8079-b1ae39ae1365/image.png)

- 중요한 점:
  `개념이 심볼, 내연, 외연으로 구성돼 있음` < **`개념을 이용해 공통점을 가진 객체들을 분류할 수 있음`**

<br>

### 객체를 분류하기 위한 틀
- 외연의 관점
  `어떤 객체에 어떤 개념을 적용할 수 있다` == `동일한 개념으로 구성된 객체 집합에 해당 객체를 포함시킨다`

>**분류**: 객체에 특정한 개념을 적용하는 작업.
> 
> `객체에 특정한 개념을 적용하기로 결심`했을 때 우리는 `그 객체를 특정한 집합의 멤버로 분류`하고 있는 것.

`객체를 적절한 개념에 따라 분류하지 못한 애플리케이션`은 유지보수가 어렵고 변화에 쉽게 대처하지 못함.

아울러 가장 중요한 것은, **적절한 분류 체계**는 애플리케이션을 다루는 개발자의 머릿속에 객체를 쉽게 찾고 조작할 수 있는 정신적인 지도를 제공함.

→ 소중한 객체를 안전하고 적절한 장소에 보관할 수 있도록 **최대한 `직관적`으로 `분류`**해야 함.

<br>

#### 분류는 추상화를 위한 도구다
- `개념을 통해 객체를 분류하는 과정`은 추상화의 두 가지 차원을 모두 사용함.

>1) **일반화**: `트럼프`라는 개념으로 묶은 것은 개별 객체 간의 차이점을 무시하고 공통점을 취한 결과
>
>2) **불필요한 세부 사항 제거**: `트럼프`에 속하는 객체들의 공통점 중에서 우리가 중요하다고 생각하는 특징은 `몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려 있다`는 것뿐. 그 외의 사항들은 전적으로 무시하고 있다.

- **개념**: 객체들의 복잡성을 극복하기 위한 추상화 도구.

<br>

## 타입

### **타입(type)**은 개념이다
- `타입의 정의` == `개념의 정의`
  → 타입은 **공통점**을 기반으로 객체들을 묶기 위한 **틀**.

  → 타입은 개념과 마찬가지로 `심볼, 내연, 외연`을 이용해 서술할 수 있으며, `타입에 속하는 객체` 역시 **타입의 `인스턴스`**라고 한다.

>\- 타입 == 개념
> 
> \- 타입: 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념.
> 
> \- 어떤 객체에 타입을 적용할 수 있을 때, 그 객체를 `타입의 인스턴스`라고 한다.
> 
> \- `타입의 인스턴스`는 `타입을 구성하는 외연의 객체 집합`의 일원이 된다.

<br>

### 데이터 타입
메모리의 세상에는 타입이라는 질서 존재 X

`"타입이 없다(Untyped)"` == `메모리 안의 데이터를 다룰 수 있는 단 하나의 타입만이 존재함`


타입이 없는 체계 안에서 모든 데이터는 일련의 비트열(bit string)로 구성됨.

이러한 컴퓨터 안의 데이터를 목적에 따라 분류하기 시작하면서 프로그래밍 언어에서 `타입 시스템(type system)`이 생김.

- **타입 시스템의 목적**:메모리 안의 모든 데이터가 비트열로 보임으로써 야기되는 혼란을 방지하는 것.

  메모리 안에 저장된 0과 1에 대해 수행 가능한 작업과 불가능한 작업을 구분함으로써 데이터가 잘못 사용되는 것을 방지.

  결과적으로 `타입 시스템의 목적`은 **데이터가 잘못 사용되지 않도록 제약사항을 부과하는 것**.

>1) `타입`은 데이터가 어떻게 사용되느냐에 관한 것.
>
>>\- 숫자형 데이터가 숫자형인 이유는 데이터를 사칙연산할 수 있기 때문.
>>
>>\- 어떤 데이터가 문자열인 이유는 두 데이터를 연결해 새로운 문자열을 만들 수 있고, 데이터에 포함된 문자의 길이를 알 수 있기 때문.
→ 따라서 `데이터가 어떤 타입에 속하는지를 결정하는 것`은 `데이터에 적용할 수 있는 작업`이다.
>
>2) `타입에 속한 데이터를 메모리에 어떻게 표현하는지`는 외부로부터 철저하게 감춰진다.
>>\- 데이터 타입의 표현은 연산 작업을 수행하기에 가장 효과적인 형태가 선택되며, 개발자는 해당 데이터 타입의 표현 방식을 몰라도 데이터를 사용하는 데 지장이 없다.
>>
>>\- 개발자는 해당 데이터 타입을 사용하기 위해 단지 데이터 타입에 적용할 수 있는 연산자만 알고 있으면 된다.
>>
>>→ 숫자형 데이터에 적용할 수 있는 산술 연산자를 알고 있다면, 메모리 내부에 숫자가 어떤 방식으로 저장되는지 모르더라도 숫자형 데이터를 사용할 수 있다.

즉, **`데이터 타입`**은 `'메모리 안에 저장된 데이터의 종류를 분류'하는 데 사용하는 메모리 집합`에 관한 메타데이터다.

'데이터에 대한 분류'는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정한다.

<br>

### 객체와 타입
- **`객체`**는 **행위에 따라 변할 수 있는 상태**를 가짐.

  애플리케이션 내부에 있는 모든 객체의 상태를 모으면 결국 애플리케이션에서 관리해야 하는 전체 데이터를 표현할 수 있게 된다.


**BUT**, `객체` != `데이터`

객체에서 중요한 것은 **객체의 행동**.

`상태`는 행동의 결과로 초래된 `부수 효과`를 쉽게 표현하기 위해 도입한 추상적인 개념일 뿐.

- **객체지향 설계**의 핵심: `객체가 협력을 위해 어떤 책임을 지녀야 하는지`를 **결정**하는 것.

  따라서 앞서 언급한 데이터 타입에 관한 두 가지 중요한 사실은 객체의 타입을 이야기할 때도 동일하게 적용됨.

>1) 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 `객체가 수행하는 행동`이다.
>
>>어떤 객체들이 동일한 행동을 수행할 수 있다면 그 객체들은 동일한 타입으로 분류될 수 있음.
>
> 2) `객체의 내부적인 표현`은 외부로부터 철저하게 감춰진다.
>>객체의 행동을 가장 효과적으로 수행할 수만 있다면 객체 내부의 상태를 어떤 방식으로 표현하더라도 무방.


<br>

### 행동이 우선이다
위의 첫 번째 조언에 따르면, **객체가 어떤 행동을 하느냐**에 따라 **객체의 타입이 결정**된다.

두 번째 조언에 따르면, **객체의 타입**은 **객체 내부 표현**과는 아무런 상관이 없다.

즉, `객체의 내부 표현 방식`이 다르더라도 어떤 객체들이 `동일하게 행동`한다면 그 객체들은 `동일한 타입`에 속한다.

→ **객체의 타입**을 **결정**하는 것: 객체의 `행동`

(`객체가 어떤 데이터를 보유하고 있는지`는 타입을 결정하는 데 아무런 영향도 미치지 않음)

- **다형성**: `동일한 요청`에 대해 서로 `다른 방식`으로 `응답`할 수 있는 능력.

  동일한 메시지를 서로 다른 방식으로 처리학 ㅣ위해서는 객체들은 동일한 메시지를 수신할 수 있어야 함

  → 다형적인 객체들은 동일한 타입(또는 타입 계층)에 속하게 됨.



- **캡슐화**: 외부에 행동만을 제공하고 데이터는 행동 뒤로 감추는 원칙.

  (`외부에 데이터를 감춤` == `데이터의 내부 표현 방식과 부관하게 행동만이 고려 대상`)



>`데이터-주도 설계(Data-Driven Design)`의 단점을 개선하기 위해 고안된
> 
> '객체지향 설계 방법'을 **`책임-주도 설계(Responsibility-Driven Design)`**이라고 한다.
> 
>>\- `데이터-주도 설계`: 데이터를 먼저 결정하고 객체의 책임을 결정하는 방법
>>
>>\- `책임-주도 설계`: 객체가 외부에 제공해야 하는 책임을 먼저 결정하고, 그 책임을 수행하는 데 적합한 데이터를 나중에 결정한 후, 그 데이터를 책임을 수행하는 데 필요한 외부 인터페이스 뒤로 캡슐화


<br>

## 타입의 계층
![](https://velog.velcdn.com/images/yjkang/post/3881666a-586b-4541-8232-6e1b2b065033/image.png)

사실상 우리가 위에서 구분한 `트럼프`라는 개념은 `트럼프 인간`이라고 해야 한다.

이때, `트럼프 인간`은 `트럼프`보다 좀 더 특화된 행동을 하는 특수한 개념이다.

이러한 두 개념 사이의 관계를 **일반화/특수화(generalization/specialization) 관계**라고 한다.

### 일반화/특수화 관계
타입과 타입 사이에는 일반화/특수화 관계가 존재할 수 있음.

일반화와 특수화는 동시에 일어남.

>`트럼프`는 `트럼프 인간`보다 더 일반적인 개념(즉, 더 포괄적인 개념).
> 
> `트럼프 인간`은 `트럼프`보다 더 특수한 개념(즉, 더 좁은 개념).
→ `트럼프 인간`에 속하는 객체는 `트럼프`에 속하는 객체보다 그 수가 적을 수밖에 없다.

**객체지향**에서 `일반화/특수화 관계를 결정`하는 것은 `객체의 상태를 표현하는 '데이터'`가 아니라 **`행동`**.

- **행동의 관점**에서 더 **`일반적`**인 타입: '특수한 타입이 가진 모든 행동들' 중 `일부 행동`만을 가지는 타입.
- **행동의 관점**에서 더 **`특수한`** 타입: `일반적인 타입이 가진 모든 타입` + `자신만의 행동 추가`하는 타입

→ `일반적인 타입의 행동 수` < `특수한 타입의 행동 수`

>- **`트럼프 인간`이 `트럼프`의 특수화**인 이유:
>
>    `트럼프`가 가진 모든 행동을 `트럼프 인간`이 공통적으로 수행할 수 있을 뿐만 아니라, 자신에게만 특수화된 행동을 **추가적**으로 할 수 있기 때문.

<br>

### 슈퍼타입과 서브타입
- **슈퍼타입**: 좀 더 일반적인 타입

- **서브타입**: 좀 더 특수한 타입

일반적으로 `서브타입`은 `슈퍼타입`의 행위와 호환되기 때문에 `서브타입은 슈퍼타입을 대체`할 수 있어야 함.

서브타입은 슈퍼타입의 행위에 추가적으로 특수한 자신만의 행동을 추가하는 것이므로 `슈퍼타입의 행동`은 `서브타입`에게 **자동으로 상속**된다.

<br>

## 정적 모델
### 타입의 목적
`앨리스`라고 하는 객체의 `상태`는 변하지만, 앨리스를 다른 객체와 구별할 수 있는 `식별성`은 동일하게 유지된다.

`타입`은 **시간에 따라 동적**으로 변하는 `앨리스의 상태`를 **시간과 무관한 정적**인 모습으로 다룰 수 있게 해준다.

즉, 앨리스의 상태에 복잡성을 부과하는 `시간`이라는 요소를 제거 → 시간에 독립적인 정적인 모습으로 앨리스를 생각할 수 있게 됨.


### 그래서 결국 타입은 추상화다
위와 같은 관점에서 `타입` == `추상화`

어떤 시점에서 앨리스에 관해 생각할 때 불필요한 `시간`이라는 요소와 `상태 변화`라는 요소를 **제거**하고 철저하게 **정적인 관점**에서 앨리스의 모습을 묘사하는 것을 가능하게 해준다.

### 동적 모델과 정적 모델
객체를 생각할 때 두 가지 모델을 동시에 고려해야 한다.

>1) **동적 모델**: 객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐. → `스냅샷(snapshot)`
>
>>객체지향 모델링을 위한 표준 언어인 UML에서 스냅샷은 `객체 다이어그램`이라고도 불린다.
>>
>>스냅샷처럼 실제로 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것을 `동적 모델`이라고 한다.
>
>2) **정적 모델**: 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현 → `타입 모델(type diagram)`
>>이 모델은 동적으로 변하는 객체의 상태가 아니라 객체가 속한 타입의 정적인 모습을 표현하기에 `정적 모델`이라고도 한다.

객체지향 애플리케이션을 설계 및 구현하기 위해선 **객체 관점(`동적 모델`)**과 **객체를 추상화한 타입 관점(`정적 모델`)**을 적절히 혼용해야 한다.

→ 객체지향 프로그래밍 언어를 이용해 클래스를 작성하는 시점: 시스템을 정적인 관점에서 접근 중.

→ 실제로 애플리케이션을 실행해 객체의 상태 변경을 추적하고 디버깅하는 동안: 객체의 동적인 모델링 탐험 중.

<br>

### 클래스
객체지향 프로그래밍 언어에서 정적인 모델은 클래스를 이용해 구현됨.

>`타입을 구현하는 가장 보편적인 방법` == `클래스 이용`
> 
> 이때, `클래스` != `타입`

- **타입**: 객체를 분류하기 위해 사용하는 개념.
- **클래스**: 단지 타입을 구현할 수 있는 여러 구현 메커니즘 중 하나

  → **클래스**는 `타입의 구현` 외에도 `코드를 재사용하는 용도`로도 사용되기 때문에 클래스와 타입을 동일시하면 안됨.

>- `타입`: 객체를 분류하는 기준
>- `객체가 수행하는 행동`: 타입을 나누는 기준
>- `클래스`: 객체를 분류하기 위해 타입을 결정한 후, 프로그래밍 언어를 이용해 타입을 구현할 수 있는 한 가지 방법(타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 메커니즘)

---

💬 [스터디 진행 기록(객체지향의 사실과 오해_2, 3챕터_250101)](https://flat-argument-d72.notion.site/250101-_2-3-16e7faba9f3f80039d79d0e021696363?pvs=4)

🎬 [스터디 진행 영상(객체지향의 사실과 오해_2, 3챕터_250101)](https://youtu.be/nzLqXXkjZJI?si=16qqQq4acHs0mrVb)